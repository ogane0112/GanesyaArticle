---
title: npxã§å®Ÿè¡Œã§ãã‚‹ã‚ªãƒªã‚¸ãƒŠãƒ«ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ãƒ„ãƒ¼ãƒ«ã‚’ç°¡å˜ã«ä½œã£ã¦ã¿ãŸï¼
emoji: "ğŸ’­"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["nodejs", "CLI"]
published: true
tags:
  - Node.js
  - CLI
private: false
updated_at: '2024-09-10T05:42:20+09:00'
id: ed4368c327c81932417a
organization_url_name: null
slide: false
ignorePublish: false
---

## ã¯ã˜ã‚ã«

Node.jsã¨TypeScriptã‚’ä½¿ã£ã¦ã€`npx`ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿè¡Œå¯èƒ½ãªã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ï¼ˆCLIï¼‰ãƒ„ãƒ¼ãƒ«ã‚’ä½œæˆã™ã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚ã“ã®è¨˜äº‹ã§ã¯ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‹ã‚‰ã€ç°¡å˜ãªCliãƒ„ãƒ¼ãƒ«ã®ä½œæˆã¾ã§ã®æ‰‹é †ã‚’ã¨ã‚Šã‚ãˆãšä½œã‚Œã‚‹ã“ã¨ã‚’ç›®çš„ã«ã–ã£ãã‚Šè§£èª¬ã—ã¾ã™ã€‚

## å‰ææ¡ä»¶

- Node.jsï¼ˆãƒãƒ¼ã‚¸ãƒ§ãƒ³12ä»¥ä¸Šï¼‰ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã“ã¨
- npmï¼ˆNode.jsã«ä»˜å±ï¼‰ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã“ã¨

## æ‰‹é †

### 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®åˆæœŸåŒ–

ã¾ãšã€æ–°ã—ã„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã—ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’åˆæœŸåŒ–ã—ã¾ã™ã€‚

```bash
mkdir my-cli-tool
cd my-cli-tool
npm init -y
```

### 2. å¿…è¦ãªä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

TypeScriptã¨ã€ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å¼•æ•°ã‚’è§£æã™ã‚‹ãŸã‚ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆä¾‹ï¼šcommanderï¼‰ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

```bash
npm install -D typescript @types/node
npm install commander
```

### 3. TypeScriptã®è¨­å®š

TypeScriptã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆtsconfig.jsonï¼‰ã‚’ä½œæˆã—ã¾ã™ã€‚

```bash
npx tsc --init
```

### 4. ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®ä½œæˆ

`src/index.ts`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã€CLIãƒ„ãƒ¼ãƒ«ã®ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãã¾ã™ã€‚

```typescript
import { Command } from 'commander';

const program = new Command();

program
  .version('1.0.0')
  .description('A CLI for managing Zenn and Qiita articles')
  .option('-d, --debug', 'output extra debugging')
  .action((options) => {
    if (options.debug) console.log(options);
    console.log('Hello from gane CLI!');
  });

program.parse(process.argv);
```

### 5. package.jsonã®æ›´æ–°

`package.json`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã¦ã€ãƒ“ãƒ«ãƒ‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¨`bin`è¨­å®šã‚’è¿½åŠ ã—ã¾ã™ã€‚

```json
{
  "name": "my-cli-tool",
  "version": "1.0.0",
  "description": "A simple CLI tool",
  "main": "src/index.js",
  "bin": {
    "my-cli-tool": "src/index.js"
  },
  "scripts": {
    "build": "tsc",
    "start": "node src/index.js"
  },
  // ... ãã®ä»–ã®è¨­å®š
}
```

### 6. ãƒ“ãƒ«ãƒ‰ã¨ãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆ

TypeScriptã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã€ãƒ­ãƒ¼ã‚«ãƒ«ã§ãƒ„ãƒ¼ãƒ«ã‚’ãƒªãƒ³ã‚¯ã—ã¾ã™ã€‚

```bash
npm run build
npm link
```

ã“ã‚Œã§ã€ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ä»¥ä¸‹ã®ã‚ˆã†ã«ãƒ„ãƒ¼ãƒ«ã‚’å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ï¼š

```bash
npx my-cli-tool -f test.txt
```
**å®Ÿéš›ã®å®Ÿè¡Œçµæœ**    
```
Hello from gane CLI!
```



## ã¾ã¨ã‚

ä»¥ä¸Šã®æ‰‹é †ã§ã€Node.jsã¨TypeScriptã‚’ä½¿ã£ã¦`npx`ã§å®Ÿè¡Œå¯èƒ½ãªCLIãƒ„ãƒ¼ãƒ«ã‚’ä½œæˆã§ãã¾ã™ã€‚ã“ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‚’ä½¿ãˆã°ã€ã•ã¾ã–ã¾ãªç”¨é€”ã®CLIãƒ„ãƒ¼ãƒ«ã‚’ç°¡å˜ã«é–‹ç™ºã—ã€é…å¸ƒã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ï¼ï¼ï¼ï¼ï¼ï¼

## å‚è€ƒãƒªãƒ³ã‚¯

- [Node.js å…¬å¼ã‚µã‚¤ãƒˆ](https://nodejs.org/)
- [TypeScript å…¬å¼ã‚µã‚¤ãƒˆ](https://www.typescriptlang.org/)
- [Commander.js](https://github.com/tj/commander.js/)
- [npm ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://docs.npmjs.com/)
